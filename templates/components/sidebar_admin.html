<!-- Admin Sidebar -->
<aside class="sidebar" id="sidebar" data-collapsed="{{ 'true' if current_user.sidebar_collapsed else 'false' }}">
    <!-- Logo -->
    <div class="sidebar-header">
        <div class="sidebar-logo">
            <img src="{{ url_for('static', filename='img/icons/logo-full.svg') }}" alt="ThunderOrders" class="logo-full">
            <img src="{{ url_for('static', filename='img/icons/logo-icon.svg') }}" alt="TO" class="logo-icon">
        </div>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
        <ul class="sidebar-menu">
            <li class="sidebar-item">
                <a href="{{ url_for('admin.dashboard') }}"
                   class="sidebar-link {% if request.endpoint == 'admin.dashboard' %}active{% endif %}"
                   data-tooltip="Dashboard">
                    <img src="{{ url_for('static', filename='img/icons/dashboard.svg') }}" alt="Dashboard" class="sidebar-icon">
                    <span class="sidebar-text">Dashboard</span>
                </a>
            </li>

            <!-- Zamówienia (Collapsible Category) -->
            <li class="sidebar-item sidebar-category">
                <div class="sidebar-category-header {% if request.endpoint and 'orders' in request.endpoint %}active{% endif %}" onclick="toggleSidebarCategory(this)" data-tooltip="Zamówienia">
                    <div class="sidebar-category-main">
                        <img src="{{ url_for('static', filename='img/icons/orders.svg') }}" alt="Zamówienia" class="sidebar-icon">
                        <span class="sidebar-text">Zamówienia</span>
                    </div>
                    <svg class="category-chevron" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z"/>
                    </svg>
                </div>
                <ul class="sidebar-subcategories" data-category-name="Zamówienia">
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('orders.admin_list') }}"
                           class="sidebar-sublink {% if request.endpoint == 'orders.admin_list' %}active{% endif %}"
                           data-tooltip="Lista zamówień">
                            <span class="sidebar-text">Lista zamówień</span>
                        </a>
                    </li>
                    <li class="sidebar-subitem">
                        <a href="#"
                           class="sidebar-sublink disabled"
                           data-tooltip="Standartowe (wkrótce)">
                            <span class="sidebar-text">Standartowe</span>
                        </a>
                    </li>
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('admin.exclusive_list') }}"
                           class="sidebar-sublink {% if request.endpoint == 'admin.exclusive_list' or request.endpoint == 'admin.exclusive_edit' %}active{% endif %}"
                           data-tooltip="Exclusive">
                            <span class="sidebar-text">Exclusive</span>
                        </a>
                    </li>
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('orders.settings') }}"
                           class="sidebar-sublink {% if request.endpoint == 'orders.settings' %}active{% endif %}"
                           data-tooltip="Ustawienia">
                            <span class="sidebar-text">Ustawienia</span>
                        </a>
                    </li>
                </ul>
            </li>

            <li class="sidebar-item">
                <a href="{{ url_for('admin.clients_list') }}"
                   class="sidebar-link {% if request.endpoint and 'client' in request.endpoint %}active{% endif %}"
                   data-tooltip="Klienci">
                    <img src="{{ url_for('static', filename='img/icons/clients.svg') }}" alt="Klienci" class="sidebar-icon">
                    <span class="sidebar-text">Klienci</span>
                </a>
            </li>

            <!-- Magazyn (Collapsible Category) -->
            <li class="sidebar-item sidebar-category">
                <div class="sidebar-category-header {% if request.endpoint in ['products.list_products', 'products.stock_orders', 'products.warehouse_settings'] %}active{% endif %}" onclick="toggleSidebarCategory(this)" data-tooltip="Magazyn">
                    <div class="sidebar-category-main">
                        <img src="{{ url_for('static', filename='img/icons/warehouse.svg') }}" alt="Magazyn" class="sidebar-icon">
                        <span class="sidebar-text">Magazyn</span>
                    </div>
                    <svg class="category-chevron" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z"/>
                    </svg>
                </div>
                <ul class="sidebar-subcategories" data-category-name="Magazyn">
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('products.list_products') }}"
                           class="sidebar-sublink {% if request.endpoint == 'products.list_products' %}active{% endif %}"
                           data-tooltip="Lista produktów">
                            <span class="sidebar-text">Lista produktów</span>
                        </a>
                    </li>
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('products.stock_orders') }}"
                           class="sidebar-sublink {% if request.endpoint == 'products.stock_orders' %}active{% endif %}"
                           data-tooltip="Zamówienia produktów">
                            <span class="sidebar-text">Zamówienia produktów</span>
                        </a>
                    </li>
                    <li class="sidebar-subitem">
                        <a href="{{ url_for('products.warehouse_settings') }}"
                           class="sidebar-sublink {% if request.endpoint == 'products.warehouse_settings' %}active{% endif %}"
                           data-tooltip="Ustawienia">
                            <span class="sidebar-text">Ustawienia</span>
                        </a>
                    </li>
                </ul>
            </li>

            <li class="sidebar-item">
                <a href="#"
                   class="sidebar-link {% if request.endpoint and 'statistics' in request.endpoint %}active{% endif %}"
                   data-tooltip="Statystyki">
                    <img src="{{ url_for('static', filename='img/icons/dashboard.svg') }}" alt="Statystyki" class="sidebar-icon">
                    <span class="sidebar-text">Statystyki</span>
                </a>
            </li>

            <li class="sidebar-item">
                <a href="{{ url_for('admin.tasks_list') }}"
                   class="sidebar-link {% if request.endpoint and 'task' in request.endpoint %}active{% endif %}"
                   data-tooltip="Moje zadania">
                    <img src="{{ url_for('static', filename='img/icons/tasks.svg') }}" alt="Moje zadania" class="sidebar-icon">
                    <span class="sidebar-text">Moje zadania</span>
                </a>
            </li>
        </ul>
    </nav>
</aside>
